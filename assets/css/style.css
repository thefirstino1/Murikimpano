const translations = {
    // --- Ikinyarwanda ---
    rw: {
        welcome_slogan: "MURAKAZA NEZA KURI MURIKIMPANO",
        create_account_btn: "Fungura Konti",
        login_btn: "Injira",
        forgot_password_btn: "Wibagiwe ijambobanga?",
        register_page_title: "Fungura Konti - Murikimpano",
        create_new_account_title: "Fungura Konti Nshya",
        username_label: "Izina ukoresha",
        email_label: "Imeri yawe",
        password_label: "Ijambobanga",
        register_btn: "Iyandikishe",
        already_have_account: "Usanganywe konti?",
        login_here_link: "Injira hano",
        login_page_title: "Injira - Murikimpano",
        login_title: "Injira Muri Konti Yawe",
        login_btn_main: "Injira",
        no_account_yet: "Nta konti ufite?",
        create_one_link: "Fungura imwe hano"
    },
    // --- Ikirundi ---
    ki: {
        welcome_slogan: "KAZE NEZA MURI MURIKIMPANO",
        create_account_btn: "Ugurura Konti",
        login_btn: "Injira",
        forgot_password_btn: "Wibagiye ijambobanga?",
        register_page_title: "Ugurura Konti - Murikimpano",
        create_new_account_title: "Ugurura Konti Nshasha",
        username_label: "Izina ukoresha",
        email_label: "Imeri yawe",
        password_label: "Ijambobanga",
        register_btn: "Iyandikishe",
        already_have_account: "Ufise konti?",
        login_here_link: "Injira hano",
        login_page_title: "Injira - Murikimpano",
        login_title: "Injira muri Konti yawe",
        login_btn_main: "Injira",
        no_account_yet: "Nta konti ufise?",
        create_one_link: "Ugurura imwe hano"
    },
    // --- Icyongereza ---
    en: {
        welcome_slogan: "WELCOME TO MURIKIMPANO",
        create_account_btn: "Create Account",
        login_btn: "Log In",
        forgot_password_btn: "Forgot Password?",
        register_page_title: "Create Account - Murikimpano",
        create_new_account_title: "Create a New Account",
        username_label: "Username",
        email_label: "Your Email",
        password_label: "Password",
        register_btn: "Register",
        already_have_account: "Already have an account?",
        login_here_link: "Log in here",
        login_page_title: "Log In - Murikimpano",
        login_title: "Log In to Your Account",
        login_btn_main: "Log In",
        no_account_yet: "Don't have an account?",
        create_one_link: "Create one here"
    },
    // --- Igifaransa ---
    fr: {
        welcome_slogan: "BIENVENUE CHEZ MURIKIMPANO",
        create_account_btn: "Créer un Compte",
        login_btn: "Connexion",
        forgot_password_btn: "Mot de passe oublié ?",
        register_page_title: "Créer un Compte - Murikimpano",
        create_new_account_title: "Créer un nouveau compte",
        username_label: "Nom d'utilisateur",
        email_label: "Votre e-mail",
        password_label: "Mot de passe",
        register_btn: "S'inscrire",
        already_have_account: "Vous avez déjà un compte ?",
        login_here_link: "Connectez-vous ici",
        login_page_title: "Connexion - Murikimpano",
        login_title: "Connectez-vous à votre compte",
        login_btn_main: "Connexion",
        no_account_yet: "Vous n'avez pas de compte ?",
        create_one_link: "Créez-en un ici"
    },
    // --- Igiswahili ---
    sw: {
        welcome_slogan: "KARIBU MURIKIMPANO",
        create_account_btn: "Fungua Akaunti",
        login_btn: "Ingia",
        forgot_password_btn: "Umesahau nenosiri?",
        register_page_title: "Fungua Akaunti - Murikimpano",
        create_new_account_title: "Fungua Akaunti Mpya",
        username_label: "Jina la mtumiaji",
        email_label: "Barua pepe yako",
        password_label: "Nenosiri",
        register_btn: "Sajili",
        already_have_account: "Tayari una akaunti?",
        login_here_link: "Ingia hapa",
        login_page_title: "Ingia - Murikimpano",
        login_title: "Ingia kwenye Akaunti Yako",
        login_btn_main: "Ingia",
        no_account_yet: "Bado huna akaunti?",
        create_one_link: "Fungua moja hapa"
    }
};

// Kode isigaye yo guhindura ururimi (iyi yo ntikeneye guhindurwa)
const languageSelector = document.getElementById('language-select');
const setLanguage = (language) => {
    document.querySelectorAll('[data-lang-key]').forEach(element => {
        const key = element.getAttribute('data-lang-key');
        if (translations[language] && translations[language][key]) {
            if(element.tagName === 'INPUT' || element.tagName === 'TEXTAREA'){
                element.placeholder = translations[language][key];
            } else {
                element.innerText = translations[language][key];
            }
        }
    });
    localStorage.setItem('murikimpano_lang', language);
    if(document.documentElement.lang !== language) {
        document.documentElement.lang = language;
    }
    const titleKey = document.querySelector('title')?.getAttribute('data-lang-key');
    if (titleKey && translations[language] && translations[language][titleKey]) {
         document.title = translations[language][titleKey];
    }
};
if (languageSelector) {
    languageSelector.addEventListener('change', (event) => setLanguage(event.target.value));
}
document.addEventListener('DOMContentLoaded', () => {
    const savedLanguage = localStorage.getItem('murikimpano_lang') || 'rw';
    if(languageSelector){
        languageSelector.value = savedLanguage;
        setLanguage(savedLanguage);
    }
});
